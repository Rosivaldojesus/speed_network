{% extends 'base.html' %}
{% load static %}

{% block title %}<title> Terminais </title> {% endblock %}

{% block main %}
<div class="container-xl">
	<!-- INÍCIO Dashboard Terminais Ópticos-->
	<div class="mt-3">
		<div class="card-group">
			<div class="card border-0">

				<div class="card-title shadow" align="center">
					<h5>Primárias</h5>
					<a href="/cto/primarias/" class="btn btn-block btn-success">Primárias</a>
				</div>
			 
			</div>
			
			<div class="card border-0">
				<div class="card-title shadow" align="center">
					<h5>Caixas de Emenda</h5>
					<a href="/cto/caixas-emenda/" class="btn btn-block btn-secondary"> Caixas Emenda </a>
				</div>
			</div>
			<div class="card border-0">
				<div class="card-title shadow" align="center">
					<h5>Total CTO</h5>
					<a href="#" class="btn  btn-block  btn-info"> Caixas cadastradas ( {{ quant_cto_cadastradas }} )</a>
				</div>
			</div>
			<div class="card border-0">
				<div class="card-title shadow" align="center">
					<h5>CTO Cheias</h5>
					<a href="/cto/cto-completas/" class="btn btn-block btn-danger"> Caixas cheias ( {{ quant_cto_completas }} )</a>
				</div>
			  </div>
		  </div>
	</div>
	<!-- FIM - Dashboard Terminais Ópticos-->

	<!-- INÍCIO  Campo de Pesquisas-->
	<div class="mt-3">
		<form method="GET">
		   <div class="row">
			<div class="form-group col-8">
				<label for="ruas">Pesquisa:</label>
				<input type="search" class="form-control"  placeholder="Informe o código da caixa ou o nome da rua"
					   name="q" value="{{ request.GET.q }}">
			</div>

			<div class="form-group col-2">
				<label for="board">Pesquisa:</label>
				<input type="search" class="form-control"  placeholder="Borda"
					   name="board" value="{{ request.GET.board }}">
			</div>

			<div class="form-group col-2">
				<label for="pon">Pesquisa:</label>
				<input type="search" class="form-control"  placeholder="PON"
					   name="pon" value="{{ request.GET.pon }}">
			</div>


			<!--

			<div class="form-group col-2">
				<label for="cars">BOARD:</label>
				<input list="boards" class="form-control" name="board" value="{{ request.GET.board }}">
				<datalist id="boards">
					<option value="15">
						<option value="16">
				</datalist>
			</div>  

			
			<div class="form-group col-2">
				<label for="cars">PON:</label>
				<input list="pons" class="form-control" name="pon" value="{{ request.GET.pon }}">
				<datalist id="pons">
					<option value="101">
						<option value="102">
							<option value="103">
								<option value="104">
									<option value="105">
										<option value="106">
											<option value="107">
												<option value="108">
													<option value="109">
														<option value="110">
															<option value="111">
																<option value="112">
																	<option value="113">
																		<option value="114">
																			<option value="115">
																				<option value="116">
				</datalist>
			</div> 
			-->  


		   
			   <div class="form-group col-12">
				   <button class=" form-control btn-success">
					<i class="fas fa-search"></i>
					Pesquisar
				</button>
			   </div>
		   </div>
	   </form>
	</div>



	<form action="/action_page.php" >
		
	  </form>


	<!-- FIM Campo de Pesquisas-->

	<hr><hr>
	<!--INÍCIO botões-->
	<div class="mt-4" align="right">
		<a href="adicionar-cto/" class="btn btn-primary">Adicionar CTO</a>
		<a href="exportar-csv-cto/" class="btn btn-info" title="Exportar CSV"><i class="fas fa-file-csv"></i></a>
	</div>
	<!--FIM botões -->

	<!--INÍCIO do Titulo da tabela -->
	<div class="mt-2">
		<hr><hr>
		<h5>Caixas de Terminais Ópticos</h5>
	</div>
	<!-- FIM do Titulo da tabela -->

	<!--INÍCIO da Tabela de Terminais Ópticos -->
	<div class="shadow  mt-3 table-responsive-sm">
		<table class="table"> 
			<thead>
			  <tr>
				<th scope="col">ID</th>
				<th scope="col">Cód.</th>
				<th scope="col">Rua</th>
				<th scope="col">Nº</th>
				<th scope="col">Board</th>
				<th scope="col">PON</th>
				<th scope="col">Total</th>
				<th scope="col">Usada</th>
				<th scope="col">Livre</th>
				<th scope="col">Opções</th>
			  </tr>
			</thead>
			<tbody>
				{% for cto in ctos %}
					{% if cto.livre == 0 %}
						<tr>
							<th style="color:red;">{{cto.id}}</th>
							<th style="color:red;">{{cto.codigo_cto}}</th>
							<td style="color:red;">{{cto.rua_cto}}</td>
							<td style="color:red;">{{cto.numero_rua_cto}}</td>
							<td style="color:red;">{{cto.board_cto}}</td>
							<td style="color:red;">{{cto.pon_cto}}</td>
							<td style="color:red;">{{cto.conexoes_opticas_cto}}</td>
							<td style="color:red;">{{cto.quant_conexoes_usadas_cto}}</td>
							<td style="color:red;">{{cto.livre}}</td>
							<td>
								<a href="editar-terminais-opticos/{{ cto.id }}" style="color:gold;" ><i class="fas fa-edit"></i></a>
							</td>
						</tr>
					{% else %}
						<tr>
							<th>{{cto.id}}</th>
							<th>{{cto.codigo_cto}}</th>
							<td>{{cto.rua_cto}}</td>
							<td>{{cto.numero_rua_cto}}</td>
							<td>{{cto.board_cto}}</td>
							<td>{{cto.pon_cto}}</td>
							<td>{{cto.conexoes_opticas_cto}}</td>
							<td>{{cto.quant_conexoes_usadas_cto}}</td>
							<td>{{cto.livre}}</td>
							<td>
								<a href="editar-terminais-opticos/{{ cto.id }}" style="color:gold;" ><i class="fas fa-edit"></i></a>
							</td>
						</tr>
					{% endif %}						
				{% endfor %}
			</tbody>
		</table>
	</div>
	<!--FIM da Tabela de Terminais Ópticos -->

</div>
	
{% endblock %}