{% extends 'base.html' %}
{% load static %}

{% block title %} .:: Finanças {% endblock %}





https://cdn.jsdelivr.net/npm/package@version/file

https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js

https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js

https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js

https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js

https://cdn.jsdelivr.net/npm/jquery@3.2.1/src/core.min.js

https://cdn.jsdelivr.net/npm/jquery@3.2

https://cdn.jsdelivr.net/npm/jquery/



    <div>





{% block main %}
<div class="container-xl">

    <!-- Título da pagina -->
    <div class="bd-title mt-4 mb-1">
        <h1 class="ui dividing header blue">Finanças</h1>
    </div>

    <!--Botões de navegações das finanças -->
    <div align="right">
        <a href="lista-pagamentos/" class="btn btn-info"><i class="far fa-eye"></i> Pagamentos</a>
        <a href="cadastrar-pagamento/" class="btn btn-primary"><i class="far fa-plus-square"></i> Pagamento </a>
        <a href="retiradas-gerencianet/" class="btn btn-warning"><i class="fas fa-file-invoice-dollar"></i></i> GerenciaNET </a>
        <a href="exportar-csv/" class="btn btn-info" title="Exportar CSV"><i class="fas fa-file-csv"></i></a>
    </div>

<!-- =========================================================================================================== -->
    <!-- Custos do mês atual por grupo -->
    <h3 class="ui dividing header blue">Custos do Mês Atual <a class="anchor" id="content"></a></h3>
    <div class="card-group mt-3 " >
        <!-- Veículos no mês atual-->
        <div class="card shadow-sm"  align="center">
            <p class="card-title">Veículos</p>
            R$: {{ veiculosMesAtual.total }}
        </div>

        <!-- Funcionários no mês atual-->
        <div class="card shadow-sm ml-1"  align="center">
            <h6 class="card-title">Funcionários</h6>
            
            R$: {{ funcionariosMesAtual.total }}
        </div>

        <!-- Alimentação no mês atual-->
        <div class="card shadow-sm ml-1" align="center">
            <p>Alimentação</p>
            R$: {{ alimentacaoMesAtual.total }}
        </div>

        <!-- Links no mês atual-->
        <div class="card shadow-sm ml-1"  align="center">
            <p>Links</p>
            R$: {{ linksMesAtual.total }}
        </div>

        <!-- Locação no mês atual-->
        <div class="card shadow-sm ml-1"  align="center">
            <p>Locação</p>
            R$: {{ locacaoMesAtual.total }}
        </div>

        <!-- Instalação no mês atual-->
        <div class="card shadow-sm ml-1"  align="center">
            <p>Instalação</p>
            R$: {{ instalacaoMesAtual.total }}
        </div>

        <!-- Sócios no mês atual-->
        <div class="card shadow-sm ml-1"  align="center">
            <p>Sócios</p>
            R$: {{ sociosMesAtual.total }}
        </div>

        <!-- Impostos no mês atual-->
        <div class="card shadow-sm ml-1"  align="center">
            <p>Impostos</p>
            R$: {{ ImpostosMesAtual.total }}
        </div>

        <!-- Taxas no mês atual-->
        <div class="card shadow-sm mr-1"  align="center">
            <p>Taxas</p>
            R$: {{ taxaMesAtual.total }}
        </div>
    </div>
<!-- =========================================================================================================== -->


<!-- =========================================================================================================== -->
<!-- =========================================================================================================== -->
<div class="mt-3">
    <div class="row">
        <div class="col-sm-7">
          <div class="card h-100">
            <div class="card-body">
                <!-- =========================================================================================================== -->
                <!-- Gráficos com os gastos do mês atual por categorias -->
                    <div class="h-100">
                        <script>
                            window.onload = function () {
                            
                            var chart = new CanvasJS.Chart("chartContainer", {
                                animationEnabled: true,
                                theme: "light2", // "light1", "light2", "dark1", "dark2"
                                title: {
                                    text: "Gastos no mês {% now "F Y" %}"
                                },
                                axisY: {
                                    title: "Valor (R$)",
                                    suffix: "R$"
                                },
                                axisX: {
                                    title: "Categorias"
                                },
                                data: [{
                                    type: "column",
                                    yValueFormatString: "#,##0.0#\"%\"",
                                    dataPoints: [
                                        { label: "Veículos", y: {% if veiculosMesAtual.total is null %} 0 {% else %} {{ veiculosMesAtual.total|safe }} {% endif %} },	
                                        { label: "Funcionários", y: {% if funcionariosMesAtual.total is null %} 0 {% else %} {{ funcionariosMesAtual.total|safe }} {% endif %} },		
                                        { label: "Alimentação", y: {% if alimentacaoMesAtual.total is null %} 0 {% else %} {{ alimentacaoMesAtual.total|safe }} {% endif %} },
                                        { label: "Links", y: {% if linksMesAtual.total is null %} 0 {% else %} {{ linksMesAtual.total|safe }} {% endif %} },	
                                        { label: "Locação", y: {% if locacaoMesAtual.total is null %} 0 {% else %} {{ locacaoMesAtual.total|safe }} {% endif %} },	
                                        { label: "Instalação", y: {% if instalacaoMesAtual.total is null %} 0 {% else %} {{ instalacaoMesAtual.total|safe }} {% endif %} },
                                        { label: "Sócios", y: {% if sociosMesAtual.total is null %} 0 {% else %} {{ sociosMesAtual.total|safe }} {% endif %} },
                                        { label: "Impostos", y: {% if ImpostosMesAtual.total is null %} 0 {% else %} {{ ImpostosMesAtual.total|safe }} {% endif %} },
                                        { label: "Taxas", y: {% if taxaMesAtual.total is null %} 0 {% else %} {{ taxaMesAtual.total|safe }} {% endif %} },
                                        
                                    ]
                                }]
                            });
                            chart.render();
                            
                            }
                            </script>
                            </head>
                            <body>
                            <div id="chartContainer" style="height: 300px; width: 100%;"></div>
                            <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
                    </div>
                <!-- =========================================================================================================== -->
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="card h-100">
            <div class="card-body">
                <!-- =========================================================================================================== -->
                <div id="chart">
                    <div id="timeline-chart_custos_mensais">
                        <script>
                            var options = {
                            series: [

                                {% if veiculosMesAtual.total is null %} 0 {% else %} {{ veiculosMesAtual.total|safe }} {% endif %},
                                {% if funcionariosMesAtual.total is null %} 0 {% else %} {{ funcionariosMesAtual.total|safe }} {% endif %},
                                {% if alimentacaoMesAtual.total is null %} 0 {% else %} {{ alimentacaoMesAtual.total|safe }} {% endif %},
                                {% if linksMesAtual.total is null %} 0 {% else %} {{ linksMesAtual.total|safe }} {% endif %},
                                {% if locacaoMesAtual.total is null %} 0 {% else %} {{ locacaoMesAtual.total|safe }} {% endif %},
                                {% if instalacaoMesAtual.total is null %} 0 {% else %} {{ instalacaoMesAtual.total|safe }} {% endif %},
                                {% if sociosMesAtual.total is null %} 0 {% else %} {{ sociosMesAtual.total|safe }} {% endif %},
                                {% if ImpostosMesAtual.total is null %} 0 {% else %} {{ ImpostosMesAtual.total|safe }} {% endif %},
                                {% if taxaMesAtual.total is null %} 0 {% else %} {{ taxaMesAtual.total|safe }} {% endif %},
                                
                                ],
                            chart: {
                            width: 380,
                            type: 'pie',
                            },
                            labels: ['Veículos', 'Funcionários', 'Alimentação', 'Links', 'Locação', 'Instalação', 'Sócios', 'Impostos', 'Taxas'],
                            responsive: [{
                            breakpoint: 480,
                            options: {
                                chart: {
                                width: 200
                                },
                                legend: {
                                position: 'bottom'
                                }
                            }
                            }]
                            };
                    
                            var chart = new ApexCharts(document.querySelector("#chart"), options);
                            chart.render();
                        </script>
                    </div>
                </div> 
                <!-- =========================================================================================================== -->
            </div>
          </div>
        </div>
      </div>
</div>
<!-- =========================================================================================================== -->
<!-- =========================================================================================================== -->


















    <!--Final da Página-->
    <div class="mb-5">

    </div>

</div>
{% endblock %}