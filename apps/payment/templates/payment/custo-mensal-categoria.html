{% extends 'base.html' %}
{% load static %}

{% block title %} .:: Custos Mensais Por Categoria {% endblock %}



{% block main %}
<div class="container">
    <!-- Título da pagina -->
    <div class="bd-title mt-4 mb-1">
        <h1 class="ui dividing header blue">Custos Mensais por categoria</h1>
    </div>

    <!--=======================================================================================================-->
    <div class="card shadow mt-3">
        <div id="chart_A">
            <div id="timeline-chart_custos_mensais">
                <script>
                    var options = {
                        series: [
                        // Linha de veículos
                        {
                            name: "Veiculos",
                            data: [{% for veiculos in mensalVeiculos %}  '{{ veiculos.c|safe}}', {% endfor %}]
                        },
                        
                        //Funcionários
                        {
                            name: "Funcionários",
                            data: [{% for veiculos in mensalFuncionarios %}  '{{ veiculos.c|safe}}', {% endfor %}]
                        },

                        //Alimentação
                        {
                            name: "Alimentação",
                            data: [{% for veiculos in mensalAlimentacao %}  '{{ veiculos.c|safe}}', {% endfor %}]
                        },

                        //Alimentação
                        {
                            name: "Links",
                            data: [{% for veiculos in mensalLinks %}  '{{ veiculos.c|safe}}', {% endfor %}]
                        }


                       


                        ],
                        //Veículos
                        chart: {
                        height: 350,
                        type: 'line',
                        zoom: {
                            enabled: false
                        },

                        

                        },
                        dataLabels: {
                        enabled: false
                        },



                        stroke: {
                        width: [5, 7, 5],
                        curve: 'straight',
                        dashArray: [0, 8, 5]
                        },





                        title: {
                        text: 'Page Statistics',
                        align: 'left'
                        },
                        legend: {
                        tooltipHoverFormatter: function(val, opts) {
                            return val + ' - ' + opts.w.globals.series[opts.seriesIndex][opts.dataPointIndex] + ''
                        }
                        },
                        markers: {
                        size: 0,
                        hover: {
                            sizeOffset: 6
                        }
                        },
                        xaxis: {
                        categories: [
                            
                            {% for veiculos in mensalVeiculos %}  '{{ veiculos.month|date:'M, Y'}}', {% endfor %}
                        ],
                        },
                        tooltip: {
                        y: [
                            {
                            title: {
                                formatter: function (val) {
                                return val + " (mins)"
                                }
                            }
                            },
                            {
                            title: {
                                formatter: function (val) {
                                return val + " per session"
                                }
                            }
                            },
                            {
                            title: {
                                formatter: function (val) {
                                return val;
                                }
                            }
                            }
                        ]
                        },
                        grid: {
                        borderColor: '#f1f1f1',
                        }
                        };

                        var chart = new ApexCharts(document.querySelector("#chart_A"), options);
                        chart.render();
      
                </script>
            </div>
        </div>

    </div>
    <!--=======================================================================================================-->

     <!--=======================================================================================================-->
     <div class="card shadow mt-3">


      


    </div>
    <!--=======================================================================================================-->

</div>
{% endblock %}