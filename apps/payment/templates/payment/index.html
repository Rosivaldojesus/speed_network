{% extends 'base.html' %}
{% load static %}

{% block main %}
	<!-- ********************************************************************************************** -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
	<!-- ********************************************************************************************** -->
<div class="container">

    <h2>Pagamentos</h2>
  {% if messages %}
    {% for message in messages %}
        <div class="alert {{ message.tags }}" role="alert">
            {{ message }}
        </div>
    {% endfor %}
  {% endif %}
    <hr>
    <hr>
    <div align="right">
        <a href="lista-pagamentos/" class="btn btn-info">Ver todos pagamentos</a>
        <a href="agendar-pagamento/" class="btn btn-dark">Agendar um pagamento</a>
        <a href="agendamentos-pagamentos/" class="btn btn-primary">Agenda de pagamentos </a>
        <a href="cadastrar-pagamento/" class="btn btn-primary">+ Adicionar pagamento </a>
    </div>
    <hr>
    <hr>

    <!-- CUSTOS MENSAIS TOTAIS-->
    <div>
      <h6>Valores de custos Mensais</h6>
      {% for mes in mes %}
        {{ mes.month|date:'F Y' }}: {{ mes.c }}<br>
      {% endfor %}
    </div>

    --------------

    <div>
      <h6>Mes atual</h6>
      {% for mes in atualMensalVeiculos %}
        {{ mes.month|date:'F Y' }}: {{ mes.c }}<br>
      {% endfor %}
    </div>

    ----------------
    {% for mensal in atualMensalAlimentacao %}
      {{ mensal.c}}
    {% endfor %}
    

    <table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">Veiculos</th>
      <th scope="col">Funcionários</th>
      <th scope="col">Alimentação</th>
      <th scope="col">Links</th>
      <th scope="col">Locação</th>
      <th scope="col">Instalaçao</th>
      <th scope="col">Sócios</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1
      {% for veiculos in mensalVeiculos %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>
      {% for veiculos in mensalFuncionarios %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>
        {% for veiculos in mensalAlimentacao %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>{% for veiculos in mensalLinks %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
    </td>

      <td>
        {% for veiculos in mensalLocacao %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>{% for veiculos in mensalInstalacao %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
    </td>

      <td>{% for veiculos in mensalSocios %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
    </td>
    </tr>


  </tbody>
</table>


<canvas id="myChart" width="400" height="70"></canvas>
					<script>
						var ctx = document.getElementById('myChart').getContext('2d');
						var chart = new Chart(ctx, {
							// The type of chart we want to create
							type: 'bar',
							// The data for our dataset
							data: {
								labels: [
                  'Veículos',
									'',
									'Funcionários',
									'',
									'Aliementação',
									'',
									'Links',
									'',
									'Locação',
									'',
									'Instalação',
									'',
									'Sócios'
		          ],
								datasets: [{
									label: 'Custos por grupo',
									backgroundColor: 'rgb(0,0,128)',
									borderColor: 'rgb(0,0,128)',
									data: [
                    {{ veiculos.total }},
										{{ funcionarios.total }},
										{{ alimentacao.total }},
										{{ links.total }},
										{{ locacao.total }},
										{{ instalacao.total }},
										{{ socios.total }}
										
                  ]
								}]
							},
							// Configuration options go here
							options: {}
						});
					</script>

        <hr>
        <hr>



<!--
  ********************************************************************************************************
                                  CUSTOS POR GRUPO
  ********************************************************************************************************
-->




        <div>
					<canvas id="quantidadeManuais" width="400" height="250"></canvas>
						<script>
							var ctxy = document.getElementById('quantidadeManuais').getContext('2d');
							var myDoughnutChart = new Chart(ctxy, {
								// The type of chart we want to create
								type: 'pie',

								// The data for our dataset
								data: {
									labels: ['Veículos','','Funcionários','','Alimentação','','Links','','Locação','','Instalação','','Sócios'],
									datasets: [{
										label: 'Custos por grupo',
										backgroundColor: '',
										borderColor: 'white',
										data: [ 
                      
                    {% for mensal in atualMensalVeiculos %}
                      {{ mensal.c}}
                    {% endfor %},
                    {% for mensal in atualMensalFuncionarios %}
                      {{ mensal.c}}
                    {% endfor %},
                                    
 
                    {{ funcionarios.total }},
                    
                    
                    
                    {{ links.total }},{{ locacao.total }},{{ instalacao.total }},{{ socios.total }}],

										backgroundColor: [
										'rgba(0,0,128)',
										'rgba(240,255,255)',
										'rgba(0,100,0)',
										'rgba(240,255,255)',
										'rgba(128,128,0)',
                    'rgba(240,255,255)',
										'rgba(139,69,19)',
										'rgba(240,255,255)',
										'rgba(139,0,139)',
                    'rgba(240,255,255)',
										'rgba(255,69,0)',
                    'rgba(240,255,255)',
										'rgba(176,224,230)',
										'rgba(240,255,255)',
                    'rgba(176,0,230)',
										'rgba(240,255,255)',
										
										],
									}]
								},
								// Configuration options go here
								options: {}
							});
					</script>
				</div>

<!--
  ********************************************************************************************************
                                  CUSTOS COM VEÍCULOS
  ********************************************************************************************************
-->
        <div id="chart">
          <div id="timeline-chartA">
            <script>
            var options = {
                      series: [{
                        name: "Veículos",
                        data: [{% for veiculos in mensalVeiculos %} '{{ veiculos.c }}', {% endfor %}]
                    }],
                      chart: {
                      height: 200,
                      type: 'line',
                      zoom: {
                        enabled: false
                      }
                    },
                    dataLabels: {
                      enabled: false
                    },
                    stroke: {
                      curve: 'straight'
                    },
                    title: {
                      text: 'Custos com os veículos',
                      align: 'left'
                    },
                    grid: {
                      row: {
                        colors: ['#f3f3f3', 'transparent'],
                        opacity: 0.5
                      },
                    },
                    xaxis: {
                      categories: [{% for veiculos in mensalVeiculos %} '{{ veiculos.month|date:'F Y'  }}', {% endfor %}],
                    }
                    };
                    var chart = new ApexCharts(document.querySelector("#chart"), options);
                    chart.render();

            </script>
          </div>
        </div>
    <!--
  ********************************************************************************************************
                                  CUSTOS COM FUNCIONÁRIOS
  ********************************************************************************************************
-->
<div id="chart">
  <div id="timeline-chartA">
    <script>
    var options = {
              series: [{
                name: "Veículos",
                data: [{% for veiculos in mensalFuncionarios %} '{{ veiculos.c }}', {% endfor %}]
            }],
              chart: {
              height: 200,
              type: 'line',
              zoom: {
                enabled: false
              }
            },
            dataLabels: {
              enabled: false
            },
            stroke: {
              curve: 'straight'
            },
            title: {
              text: 'Custos com os funcionários',
              align: 'left'
            },
            grid: {
              row: {
                colors: ['#f3f3f3', 'transparent'],
                opacity: 0.5
              },
            },
            xaxis: {
              categories: [{% for veiculos in mensalFuncionarios %} '{{ veiculos.month|date:'F Y'  }}', {% endfor %}],
            }
            };
            var chart = new ApexCharts(document.querySelector("#chart"), options);
            chart.render();

    </script>
  </div>
</div>
 <!--
  ********************************************************************************************************
                                  CUSTOS COM ALIMENTAÇÃO
  ********************************************************************************************************
-->
<div id="chart">
  <div id="timeline-chartA">
    <script>
    var options = {
              series: [{
                name: "Veículos",
                data: [{% for veiculos in mensalAlimentacao %} '{{ veiculos.c }}', {% endfor %}]
            }],
              chart: {
              height: 200,
              type: 'line',
              zoom: {
                enabled: false
              }
            },
            dataLabels: {
              enabled: false
            },
            stroke: {
              curve: 'straight'
            },
            title: {
              text: 'Custos com os alimentação',
              align: 'left'
            },
            grid: {
              
              row: {
                borderColor: '#FF0000',
                colors: ['#f3f3f3', 'transparent'],
                opacity: 0.5
              },
            },
            xaxis: {
              categories: [{% for veiculos in mensalAlimentacao %} '{{ veiculos.month|date:'F Y'  }}', {% endfor %}],
            }
            };
            var chart = new ApexCharts(document.querySelector("#chart"), options);
            chart.render();

    </script>
  </div>
</div>

 <!--
  ********************************************************************************************************
                                  CUSTOS COM LINKS
  ********************************************************************************************************
-->
<div id="chart">
  <div id="timeline-chartA">
    <script>
    var options = {
              series: [{
                name: "Veículos",
                data: [{% for veiculos in mensalLinks %} '{{ veiculos.c }}', {% endfor %}]
            }],
              chart: {
              height: 200,
              type: 'line',
              zoom: {
                enabled: false
              }
            },
            dataLabels: {
              enabled: false
            },
            stroke: {
              curve: 'straight'
            },
            title: {
              text: 'Custos com os link',
              align: 'left'
            },
            grid: {
              row: {
                colors: ['#f3f3f3', 'transparent'],
                opacity: 0.5
              },
            },
            xaxis: {
              categories: [{% for veiculos in mensalLinks %} '{{ veiculos.month|date:'F Y'  }}', {% endfor %}],
            }
            };
            var chart = new ApexCharts(document.querySelector("#chart"), options);
            chart.render();

    </script>
  </div>
</div>
 <!--
  ********************************************************************************************************
                                  CUSTOS COM LOCAÇÃO
  ********************************************************************************************************
-->
<div id="chart">
  <div id="timeline-chartA">
    <script>
    var options = {
              series: [{
                name: "Veículos",
                data: [{% for veiculos in mensalLocacao %} '{{ veiculos.c }}', {% endfor %}]
            }],
              chart: {
              height: 200,
              type: 'line',
              zoom: {
                enabled: false
              }
            },
            dataLabels: {
              enabled: false
            },
            stroke: {
              curve: 'straight'
            },
            title: {
              text: 'Custos com a locação',
              align: 'left'
            },
            grid: {
              row: {
                colors: ['#f3f3f3', 'transparent'],
                opacity: 0.5
              },
            },
            xaxis: {
              categories: [{% for veiculos in mensalLocacao %} '{{ veiculos.month|date:'F Y'  }}', {% endfor %}],
            }
            };
            var chart = new ApexCharts(document.querySelector("#chart"), options);
            chart.render();

    </script>
  </div>
</div>
 <!--
  ********************************************************************************************************
                                  CUSTOS COM INSTALAÇÃO
  ********************************************************************************************************
-->
<div id="chart">
  <div id="timeline-chartA">
    <script>
    var options = {
              series: [{
                name: "Veículos",
                data: [{% for veiculos in mensalInstalacao %} '{{ veiculos.c }}', {% endfor %}]
            }],
              chart: {
              height: 200,
              type: 'line',
              zoom: {
                enabled: false
              }
            },
            dataLabels: {
              enabled: false
            },
            stroke: {
              curve: 'straight'
            },
            title: {
              text: 'Custos com as instalaçãoes',
              align: 'left'
            },
            grid: {
              row: {
                colors: ['#f3f3f3', 'transparent'],
                opacity: 0.5
              },
            },
            xaxis: {
              categories: [{% for veiculos in mensalInstalacao %} '{{ veiculos.month|date:'F Y'  }}', {% endfor %}],
            }
            };
            var chart = new ApexCharts(document.querySelector("#chart"), options);
            chart.render();

    </script>
  </div>
</div>
 <!--
  ********************************************************************************************************
                                  CUSTOS COM SÓCIOS
  ********************************************************************************************************
-->
<div id="chart">
  <div id="timeline-chartSocios">
    <script>
    var options = {
              series: [{
                name: "Veículos",
                data: [{% for veiculos in mensalSocios %} '{{ veiculos.c }}', {% endfor %}]
            }],
              chart: {
              height: 200,
              type: 'line',
              zoom: {
                enabled: false
              }
            },
            dataLabels: {
              enabled: false
            },
            stroke: {
              curve: 'straight'
            },
            title: {
              text: 'Custos com sócios',
              align: 'left'
            },
            grid: {
              row: {
                colors: ['#f5f5f5', 'transparent'],
                opacity: 0.5
              },
            },
            xaxis: {
              categories: [{% for veiculos in mensalSocios %} '{{ veiculos.month|date:'F Y'  }}', {% endfor %}],
            }
            };
            var chart = new ApexCharts(document.querySelector("#chart"), options);
            chart.render();

    </script>
  </div>
</div>














<!--






    </div>






<hr>
<hr>



    








      </div>
    </div>













  
<hr>


</div>
</div>
{% endblock %}