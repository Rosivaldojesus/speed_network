{% extends 'base.html' %}
{% load static %}

{% block main %}
	<!-- ********************************************************************************************** -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
	<!-- ********************************************************************************************** -->
<div class="container">

    <h2>Pagamentos</h2>
  {% if messages %}
    {% for message in messages %}
        <div class="alert {{ message.tags }}" role="alert">
            {{ message }}
        </div>
    {% endfor %}
  {% endif %}
    <hr>
    <hr>
    <div align="right">
        <a href="lista-pagamentos/" class="btn btn-info">Ver todos pagamentos</a>
        <a href="agendar-pagamento/" class="btn btn-dark">Agendar um pagamento</a>
        <a href="agendamentos-pagamentos/" class="btn btn-primary">Agenda de pagamentos </a>
        <a href="cadastrar-pagamento/" class="btn btn-primary">+ Adicionar pagamento </a>
    </div>

    <hr>
    <hr>

<!--
    {% for dia in dia %}
      {{ dia.data_pagamento | date:"d M Y"  }} - R$: {{ dia.number }}<br>
    {% endfor %}
-->


<!--

  <div>
   Veículos: {{ veiculos.total }}<br>
    Funcionários: {{ funcionarios.total }}<br>
    Alimentação: {{ alimentacao.total }}<br>
    Links: {{ links.total }}<br>
    Locação: {{ locacao.total }}<br>
    Instalação: {{ instalacao.total }}<br>
    Sócios: {{ socios.total }}<br>
  </div>

  -->

<!--

    <div>
        
      <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>


      <style>
        

      body {
        font-family: Roboto, sans-serif;
      }

      #chart {
        max-width: 650px;
        margin: 35px auto;
      }

      </style>

      <div id="chart"></div>
      <script>
      var options = {
          series: [4, 5, 1, 4, 22],
          chart: {
          width: 380,
          type: 'pie',
        },
        labels: ['Veículos', 'Funcionários', 'Alimentação', 'Links', 'Locação'],
        responsive: [{
          breakpoint: 480,
          options: {
            chart: {
              width: 200
            },
            legend: {
              position: 'bottom'
            }
          }
        }]
        };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();
      
      </script>

-->



    {% for teste in teste %}
        {{ teste.month|date:'F'}}: {{ teste.c }}<br>
    {% endfor %}



    <table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">Veiculos</th>
      <th scope="col">Funcionários</th>
      <th scope="col">Alimentação</th>
      <th scope="col">Links</th>
      <th scope="col">Locação</th>
      <th scope="col">Instalaçao</th>
      <th scope="col">Sócios</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1
      {% for veiculos in mensalVeiculos %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>
      {% for veiculos in mensalFuncionarios %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>
        {% for veiculos in mensalAlimentacao %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>{% for veiculos in mensalLinks %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
    </td>

      <td>
        {% for veiculos in mensalLocacao %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
      </td>

      <td>{% for veiculos in mensalInstalacao %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
    </td>

      <td>{% for veiculos in mensalSocios %}
        {{ veiculos.month|date:'F Y'}}: {{ veiculos.c }}<br>
      {% endfor %}
    </td>
    </tr>


  </tbody>
</table>


<canvas id="myChart" width="400" height="70"></canvas>
					<script>
						var ctx = document.getElementById('myChart').getContext('2d');
						var chart = new Chart(ctx, {
							// The type of chart we want to create
							type: 'bar',
							// The data for our dataset
							data: {
								labels: [
                  'Veículos',
									'',
									'Funcionários',
									'',
									'Aliementação',
									'',
									'Links',
									'',
									'Locação',
									'',
									'Instalação',
									'',
									'Sócios'
		          ],
								datasets: [{
									label: 'Custos por grupo',
									backgroundColor: 'rgb(0,0,128)',
									borderColor: 'rgb(0,0,128)',
									data: [
                    {{ veiculos.total }},
										{{ funcionarios.total }},
										{{ alimentacao.total }},
										{{ links.total }},
										{{ locacao.total }},
										{{ instalacao.total }},
										{{ socios.total }}
										
                  ]
								}]
							},
							// Configuration options go here
							options: {}
						});
					</script>

        <hr>
        <hr>

        <!-- Custos Mensais-->
        <h6>Valores de custos Mensais</h6>
          {% for mes in mes %}
            {{ mes.month|date:'F Y' }}: {{ mes.c }}<br>
          {% endfor %}


    </div>
  







    <script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>


<style>
  .highcharts-figure, .highcharts-data-table table {
    min-width: 320px; 
    max-width: 800px;
    margin: 1em auto;
}

.highcharts-data-table table {
	font-family: Verdana, sans-serif;
	border-collapse: collapse;
	border: 1px solid #EBEBEB;
	margin: 10px auto;
	text-align: center;
	width: 100%;
	max-width: 500px;
}
.highcharts-data-table caption {
    padding: 1em 0;
    font-size: 1.2em;
    color: #555;
}
.highcharts-data-table th {
	font-weight: 600;
    padding: 0.5em;
}
.highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
    padding: 0.5em;
}
.highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
    background: #f8f8f8;
}
.highcharts-data-table tr:hover {
    background: #f1f7ff;
}


input[type="number"] {
	min-width: 50px;
}
</style>

<figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description">
        <script>
          Highcharts.chart('container', {
    chart: {
        plotBackgroundColor: null,
        plotBorderWidth: null,
        plotShadow: false,
        type: 'pie'
    },
    title: {
        text: 'Browser market shares in January, 2018'
    },
    tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
    },
    accessibility: {
        point: {
            valueSuffix: '%'
        }
    },
    plotOptions: {
        pie: {
            allowPointSelect: true,
            cursor: 'pointer',
            dataLabels: {
                enabled: true,
                format: '<b>{point.name}</b>: {point.percentage:.1f} %'
            }
        }
    },
    series: [{
        name: 'Brands',
        colorByPoint: true,
        data: [{
            name: 'Chrome',
            y: 61.41,
            sliced: true,
            selected: true
        }, {
            name: 'Veículos',
            y: {{ veiculos.total }}
        }, {
            name: 'Funcionários',
            y: {{ funcionarios.total }}
        }, {
            name: 'Alimentação',
            y: {{ alimentacao.total }}
        }, {
            name: 'Safari',
            y: 4.18
        }, {
            name: 'Sogou Explorer',
            y: 1.64
        }, {
            name: 'Opera',
            y: 1.6
        }, {
            name: 'QQ',
            y: 1.2
        }, {
            name: 'Other',
            y: 2.61
        }]
    }]
});
        </script>  
    </p>
</figure>









  
<hr>


</div>
</div>
{% endblock %}