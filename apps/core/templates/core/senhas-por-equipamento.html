{% extends 'base.html' %}
{% load static %}

{% block title %}<title> Senhas em cada Equipamento</title> {% endblock %}

{% block main %}
<div class="container">

	<!-- INÍCIO dados dos modens -->
	{% if request.user.groups.all.0.name == "Master" %}
	<div class="card shadow text-info mt-4">
		<div class="row mt-2 ml-2 mb-2">

			<div class="col-sm-2" align="center">
				<div class="mr-1"><small><strong>6T:</strong></small> </div>
				<div><small>{{ quant_6t }}</small></div>
			</div>

			<div class="col-sm-2" align="center">
				<div class="mr-1"><small><strong>V5:</strong></small> </div>
				<div><small>{{ quant_v5 }}</small></div>
			</div>

			<div class="col-sm-2" align="center">
				<div class="mr-1"><small><strong>Q2:</strong></small> </div>
				<div><small>{{ quant_v5 }}</small></div>
			</div>

			<div class="col-sm-2" align="center">
				<div class="mr-1"><small><strong>Nokia 140:</strong></small> </div>
				<div><small>{{ quant_nokia_140 }}</small></div>
			</div>


			<div class="col-sm-2" align="center">
				<div class="mr-1"><small><strong>Nokia 240:</strong></small> </div>
				<div><small>{{ quant_nokia_240 }}</small></div>
			</div>

			<div class="col-sm-2" align="center">
				<div class="mr-1"><small><strong>Total:</strong></small> </div>
				<div><small>{{ quant_modens }}</small></div>
			</div>

		</div>
	</div>
	{% endif %}
	<!-- FIM dados dos modens -->


	<!-- INÍCIO  Campo de Pesquisas-->
	<div class="mt-3 shadow">
		<form method="GET">
			<div class="row mt-3 mr-2 ml-2">
				<!-- Campo do formulário de pesquisa por patrimônio -->
				<div class="form-group col-4">
					<label>Patrímônio</label>
				  <input type="search" class="form-control"  placeholder="Informe o Patrímônio"
					  name="p" value="{{ request.GET.p }}">
				</div>
				<!-- Campo do formulário de pesquisa por código e S/N -->
				<div class="form-group col-8">
					<label>Informe o código, S/N</label>
					<input type="search" class="form-control"  placeholder="Informe ou código S/N"
						name="q" value="{{ request.GET.q }}">
				</div>
				<!-- Botão de pesquisar -->
				<div class="form-group col-12">
					<button class=" form-control btn-success">
					<i class="fas fa-search"></i>
					Pesquisar
					</button>
				</div>

			</div>
		</form>
	</div>
	<!-- FIM Campo de Pesquisas-->

	<!-- INÍCIO das Mensagens -->
	{% if messages %}
    {% for message in messages %}
        <div class="alert {{ message.tags }}" role="alert">
            {{ message }}
        </div>
    {% endfor %}
    {% endif %}
	<!-- FIM das Mensagens -->
	<hr>
	<!-- INÍCIO Botões -->
	<div align="right">
		<a href="/cadastro-senhas-equipamentos/" class="btn btn-primary">Cadastrar Equipamento</a>
		{% if request.user.groups.all.0.name == "Master" %}
		<a href="/exportar-senhas-csv/" class="btn btn-info" title="Exportar CSV"><i class="fas fa-file-csv"></i></a>
		{% endif %}
	</div>	
	<!-- FIM Botões -->
	<hr>
	<!-- INÍCIO Titulo da página -->
	<div class="mb-4">
		<h5 style="color: navy;"><i class="fas fa-unlock-alt fa-2x"></i>
			Senhas por equipamentos
		</h5>
	</div>
	<!-- Fim Titulo da página -->



	<!-- INÍCIO da tabela dos equipamento s-->
	{% for senha in senhasPorEquipamentos %}
	<div class="card border-info mb-3 shadow">
		<div class="card-header bg-transparent border-info">

			<div class="row">
				<div class="col-sm-3 row">
					<div class="mr-1"><small><strong>#ID:</strong></small></div>
					<div><small>{{ senha.id }}</small></div>
				</div>
				<div class="col-sm-3 row">
					<div class="mr-1"><small><strong>Código:</strong></small> </div>
					<div><small>{{ senha.codigo_equipamento }}</small></div>
				</div>
				<div class="col-sm-3 row">
					<div class="mr-1"><small><strong>Fabricante:</strong></small> </div>
					<div><small>{{ senha.fabricante }}</small></div>
				</div>
				<div class="col-sm-3 row">
					<div class="mr-1"><small><strong>Modelo:</strong></small> </div>
					<div><small>{{ senha.equipamento }}</small></div>
				</div>
			</div>
		</div>
		<div class="card-body text-info">
		  <div class="card-group row">


			<div class="col-sm-2 row">
				<div class="mr-1"><small><strong>Patrimônio:</strong></small> </div>
				<div><small>{{ senha.patrimonio_equipamento }}</small></div>
			</div>

			<div class="col-sm-3 row">
				<div class="mr-1"><small><strong>IP:</strong></small> </div>
				<div><small>{{ senha.ip_equipamento }}</small></div>
			</div>

			<div class="col-sm-3 row">
				<div class="mr-1"><small><strong>S/N:</strong></small> </div>
				<div><small>{{ senha.sn_equipamento }}</small></div>
			</div>

			<div class="col-sm-2 row">
				<div class="mr-1"><small><strong>Login:</strong></small> </div>
				<div><small>{{ senha.login }}</small></div>
			</div>

			<div class="col-sm-2 row">
				<div class="mr-1"><small><strong>Senha:</strong></small> </div>
				<div><small>{{ senha.senha }}</small></div>
			</div>

			<div class="col-sm-1 row" aligin="right">
				<a href="/editar-senhas-equipamentos/{{ senha.id }}" style="color: gold; size: 40;"><i class="fas fa-edit"></i></a>
			</div>


		  </div>
		</div>
	</div>
	<hr>
	{% empty %}

		<div class="mt-4">
			<h4>Sua pesquisa: {{ request.GET.q}} {{ request.GET.p}}</h4>
			<h6 style="color: red;">Não há resultados para essa pesquisa!!! </h6>
		</div>

	{% endfor %}
	<!-- FIM da tabela dos equipamentos -->

</div>
{% endblock %}