{% extends 'base.html' %}

{% block main %}
  <div class="container">
    <!-- ********************************************************************************************** -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
	<!-- ********************************************************************************************** -->




  <!-- STATUS DOS SERVIÇOS -->
  <div class="card border-0 mb-3 mt-3">
    <h5 class="card-header">Status Serviços</h5>
    <div class="card-body ">
      <div>
        <div class="card-deck ">
          <div class="card shadow-lg bg-danger">
            <div class="display-4 text-white pr-5  " align="right">
              <strong>{{ quant_servico_aberto }}</strong>
            </div>
            <div class=" text-white pl-4">
              <h3>Aguardando </h3>
            </div>
            <div align="right">
              <a href="servicos/servicos-abertos/" class="btn btn-danger">Ver todos</a>
            </div>
          </div>
          <div class="card shadow-lg bg-warning">
            <div class="display-4 text-white pr-5 " align="right">
              <strong>{{ quant_servico_agendado }}</strong>
            </div>
            <div class="text-white pl-4">
              <h3>Agendados</h3>
            </div>
            <div align="right">
              <a href="servicos/servicos-agendados/" class="btn btn-warning text-white">Ver todos</a>
            </div>
          </div>
          <div class="card shadow-lg bg-success">
            <div class="display-4 text-white pr-5 " align="right">
              <strong>{{ quant_servico_finalizados }}</strong>
            </div>
            <div class="text-white pl-4">
              <h3>Finalizados</h3>
            </div>
            <div align="right">
              <a href="servicos/servicos-finalizados/" class="btn btn-success">Ver todos</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- STATUS DOS INSTALAÇÃO -->
        <h5 class="mt-3">Status Instalações</h5>
          <div class="card-deck">
            <div class="card border-danger" align="center">
              <div class="card-group">
                <div class="card border-0">
                  <h5>Aberto</h5>
                </div>
                <div class="card border-0">
                  <div class="display-4"><strong>{{ quant_instalacao_aberta }}</strong></div>
                </div>
              </div>
              <div class="card-footer border-danger">
                <a href="vendas/instalacao-aberta/" class="btn btn-danger">Ver todos</a>
              </div>
            </div>
            <div class="card border-warning" align="center">
              <div class="card-group">
                <div class="card border-0">
                  <h5>Agendado</h5>
                </div>
                <div class="card border-0">
                  <div class="display-4"><strong>{{ quant_instalacao_agendada }}</strong></div>
                </div>
              </div>
              <div class="card-footer border-warning">
                <a href="vendas/instalacao-agendada/" class="btn btn-warning text-white">Ver todos</a>
              </div>
            </div>
            <!--
            <div class="card border-dark" align="center">
              <div class="card-group">
                <div class="card border-0">
                  <h5>Finalizados sem boletos</h5>
                </div>
                <div class="card border-0">
                  <div class="display-4"><strong>{{ quant_instalacao_concluida }}</strong></div>
                </div>
              </div>
              <div class="card-footer border-dark">
                <a href="vendas/instalacao-concluida/" class="btn btn-dark">Ver todos</a>
              </div>
            </div>
          -->
            <div class="card border-success" align="center">
              <div class="card-group">
                <div class="card border-0">
                  <h5>Finalizados</h5>
                </div>
                <div class="card border-0">
                  <div class="display-4"><strong>{{ quant_instalacao_concluida }}</strong></div>
                </div>
              </div>
              <div class="card-footer border-success">
                <a href="vendas/instalacao-concluida/" class="btn btn-success">Ver todos</a>
              </div>
            </div>
        </div>



       
    <div>
      <div class="card mt-2">
        <div class="card-group">
          {% for data in data %}
          <div class="card border-0" align="center">
            
            <div class="card-body">
              {{ data.data_instalacao |date:" d/m/Y" }}<br>
              {{ data.number }}<br>
            </div>
          </div>
          {% endfor %}
        </div>
      </div> 
       


    

      <section>
        <div class="card-deck">
          <div class="card border-0">
            <div style="color: purple">
              <h4>Equipamentos por Cliente</h4>
              <hr>
                </a>
              </h2>
            </div>
            <div class="card-body border-0" align="center">
      
              <canvas id="myChart" width="400" height="200"></canvas>
                <script>
                  var ctx = document.getElementById('myChart').getContext('2d');
                  var chart = new Chart(ctx, {
                    // The type of chart we want to create
                    type: 'bar',
                    // The data for our dataset
                    data: {
                      labels: ['ATRIUM VII',
                        'BIRMANN 31',
                        'CAPITAL CENTER',
                        'E-TOWER',
                        'EENU',
                        'HL FARIA LIMA',
                        'JARDIM PAMPLONA',
                        'JK 360',
                        'MORUMBI PLAZA',
                        'PAULISTA 1100',
                        'PINACOTECA',
                        'SHOPPING GRAND PLAZA',
                        'SHOPPING GRANJA VIANNA',
                        'SHOPPING IGUATEMI ALPHAVILLE',
                        'SKY CORPORATE',
                        'VISTA FARIA LIMA',
                        'WORK BELA CINTRA'],
                      datasets: [{
                        label: 'Equipamentos nos clientes',
                        backgroundColor: 'rgb(0,0,128)',
                        borderColor: 'rgb(0,0,128)',
                        data: [{{ atrium_VII }},
                          {{ birmann31 }},
                          {{ capitalCenter }},
                          {{ eTower }},
                          {{ eenu }},
                          {{ hlFariaLima }},
                          {{ jardimPamplonaShopping }},
                          {{ jk360 }},
                          {{ morumbiPlaza }},
                            {{ paulista1100 }},
                            {{ pinacoteca }},
                          {{ shoppingGrandPlaza }},
                          {{ shoppingGranjaViana }},
                            {{ iguatemiAlphaville }},
                            {{ skyCorporate }},
                          {{ vistaFariaLima }},
                            {{ workBelaCintra }}]
                      }]
                    },
                    // Configuration options go here
                    options: {}
                  });
                </script>
          </div>
        </div>
      </section>
      


      






      
        
      

    </div>




  </div>
{% endblock %}