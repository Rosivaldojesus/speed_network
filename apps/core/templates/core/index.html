{% extends 'base.html' %}

{% block main %}
  <div class="container">
    <!-- ********************************************************************************************** -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
	<!-- ********************************************************************************************** -->

  {% if request.user.groups.all.0.name == "Adm" or request.user.groups.all.0.name == "Master" %}
  <!-- STATUS DOS SERVIÇOS -->
    <div class="card border-0 mb-3 mt-3">
    <h5 class="card-header">Status Serviços</h5>
    <div class="card-body ">
      <div>
        <div class="card-deck ">

          <div class="card shadow-lg bg-danger">
            <div class="display-4 text-white pr-5  " align="right">
              <strong>{{ quant_servico_aberto }}</strong>
            </div>
            <div class=" text-white pl-4">
              <h3>Aguardando </h3>
            </div>
            <div align="right">
              <a href="servicos/servicos-abertos/" class="btn btn-danger">Ver todos</a>
            </div>
          </div>
         
          <div class="card shadow-lg bg-warning">
            <div class="display-4 text-white pr-5 " align="right">
              <strong>{{ quant_servico_agendado }}</strong>
            </div>
            <div class="text-white pl-4">
              <h3>Agendados</h3>
            </div>
            <div align="right">
              <a href="servicos/servicos-agendados/" class="btn btn-warning text-white">Ver todos</a>
            </div>
          </div>

          <div class="card shadow-lg bg-success">
            <div class="display-4 text-white pr-5 " align="right">
              <strong>{{ quant_servico_finalizados }}</strong>
            </div>
            <div class="text-white pl-4">
              <h3>Finalizados</h3>
            </div>
            <div align="right">
              <a href="servicos/servicos-finalizados/" class="btn btn-success">Ver todos</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

    <!--
  <div>
    {% for servicoPorDia in servicoPorDia %}
      {{ servicoPorDia.data_finalizacao }}: {{ servicoPorDia.number }}<br>
    {% endfor %}
  </div>
  -->

  <div class="row">
    <div class="col-sm-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Previsão de Serviços</h5>
          <div>
            {% for previsaoServico in previsaoServico%}
                {{ previsaoServico.data_agendada }}: {{ previsaoServico.number }}<br>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Serviços concluídos</h5>
          <div>
            {% for servicoPorDia in servicoPorDia %}
              {{ servicoPorDia.data_finalizacao }}: {{ servicoPorDia.number }}<br>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>




    <!-- STATUS DOS INSTALAÇÃO -->
    <h5 class="mt-3">Status Instalações</h5>
    <div class="card-deck">


      <div class="card border-danger" align="center">
        <div class="card-group">
          <div class="card border-0">
            <h5>Aberto</h5>
          </div>
          <div class="card border-0">
            <div class="display-4"><strong>{{ quant_instalacao_aberta }}</strong></div>
          </div>
        </div>
        <div class="card-footer border-danger">
          <a href="vendas/instalacao-aberta/" class="btn btn-danger">Ver todos</a>
        </div>
      </div>
      


      <div class="card border-warning" align="center">
        <div class="card-group">
          <div class="card border-0">
            <h5>Agendado</h5>
          </div>
          <div class="card border-0">
            <div class="display-4"><strong>{{ quant_instalacao_agendada }}</strong></div>
          </div>
        </div>
        <div class="card-footer border-warning">
          <a href="vendas/instalacao-agendada/" class="btn btn-warning text-white">Ver todos</a>
        </div>
      </div>

      <div class="card border-dark" align="center">
        <div class="card-group">
          <div class="card border-0">
            <h5>Finalizados sem boletos</h5>
          </div>
          <div class="card border-0">
            <div class="display-4"><strong>{{ quant_instalacao_sem_boleto }}</strong></div>
          </div>
        </div>
        <div class="card-footer border-dark">
          <a href="vendas/instalacao-finalizada-sem-boleto/" class="btn btn-dark">Ver todos</a>
        </div>
      </div>



      <div class="card border-success" align="center">
        <div class="card-group">
          <div class="card border-0">
            <h5>Finalizados</h5>
          </div>
          <div class="card border-0">
            <div class="display-4"><strong>{{ quant_instalacao_concluida }}</strong></div>
          </div>
        </div>
        <div class="card-footer border-success">
          <a href="vendas/instalacao-concluida/" class="btn btn-success">Ver todos</a>
        </div>
      </div>
  </div>

  <div>

    <!--
    <div>
    {% for instalacaoPorDia in instalacaoPorDia %}
      {{ instalacaoPorDia.data_finalizacao }}: {{ instalacaoPorDia.number }}<br>
    {% endfor %}
    </div>
    -->

    <h5>Previsão de Instalação</h5>
    <div>
    {% for previsaoInstalacao in previsaoInstalacao %}
        {{ previsaoInstalacao.data_instalacao }}: {{ previsaoInstalacao.number }}<br>
    {% endfor %}
    </div>
   




  {% elif request.user.groups.all.0.name == "Tecnico" %}

  <div class="card-deck">
    <div class="card text-white bg-dark mb-3"">
      <div class="card-header">SERVIÇOS</div>
      <div class="card-body">
        <h5 class="card-title">Clique abaixo</h5>
        <a href="servicos/" class="btn btn-danger">Ver todos</a>
      </div>
    </div>


    <div class="card text-white bg-dark mb-3"">
      <div class="card-header">INSTALAÇÃO</div>
      <div class="card-body">
        <h5 class="card-title">Clique abaixo</h5>
        <a href="vendas/" class="btn btn-danger">Ver todos</a>
      </div>
    </div>
    
  </div>
  {% elif request.user.groups.all.0.name == "Venda" %}
    <div class="card text-white bg-dark mb-3">
      <div class="card-header">INSTALAÇÃO</div>
      <div class="card-body">
        <h5 class="card-title">Clique abaixo</h5>
        <a href="vendas/" class="btn btn-danger">Ver todos</a>
      </div>
    </div>
    
  </div>
         
    {% endif %}














<!--
--------------------------------------------------------------------------------------------------------------    
    INFORMAÇÕES DOS SERVIÇOS DIÁRIOS
--------------------------------------------------------------------------------------------------------------  
  
  -->  
  <!--
  <div class="card">
    <div class="card-body">
      {% for servicosDiarios in servicosDiarios %}
        {{ servicosDiarios.data_finalizacao | date:'d-m-Y' }}: {{ servicosDiarios.number }}<br>

      {% endfor %}
      <hr>
      {{ servicosMensais.month }}: {{ servicosMensais.count }}<br>
    </div>
  </div>
-->
  

  <!-- Gráfico de Instalações diárias -->


  <!-- Gráfico de Instalações diárias -->



    </div>



    </div>


    <!---->


  
  </div>
{% endblock %}